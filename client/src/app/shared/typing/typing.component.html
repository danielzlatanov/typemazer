<div class="typing-container">
  <span *ngFor="let word of words; let i = index">
    <span
      [ngClass]="{
        'correct-word': i === currentIndex,
        'error-word':
          i === currentIndex &&
          userInput &&
          userInput !== words[currentIndex].slice(0, userInput.length)
      }"
      >{{ word }}</span
    >
    {{ i < words.length - 1 ? " " : "" }}
  </span>
  <input
    type="text"
    [(ngModel)]="userInput"
    (input)="onInputChange()"
    (keydown.space)="onSpaceKey($event)"
    [ngClass]="{
      'error-input':
        currentIndex <= words.length - 1 &&
        userInput &&
        userInput !== words[currentIndex].slice(0, userInput.length)
    }"
  />

  <p *ngIf="!endTime">{{ realTimeWpm || 0 }} wpm</p>
  <p *ngIf="endTime">gross/raw: {{ grossWpm }} wpm</p>
  <p *ngIf="endTime">accuracy: {{ totalAccuracy.toFixed(1) }} %</p>
  <p *ngIf="endTime">errors: {{ errors }}</p>
</div>
